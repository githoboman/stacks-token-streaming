version: 1
chain: stacks
uuid: "stream-refuel-hook-001"
name: "Stream Refuel Hook"
description: "Handles stream refuel events"

networks:
  testnet:
    if_this:
      contract_identifier: "ST9NSDHK5969YF6WJ2MRCVVAVTDENWBNTFJRVZ3E.stream"
      method: "refuel"
    then_that:
      http_post:
        url: "http://localhost:3000/webhooks/stream-refuel"
        body: |
          {
            "streamId": "{$.tx.contract_call.args.stream-id}",
            "amount": "{$.tx.contract_call.args.amount}",
            "sender": "{$.tx.sender}",
            "txId": "{$.tx.txid}"
          }